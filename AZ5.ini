// Đoạn code đã được sửa đúng, cùng với chú thích giải thích lỗi:
//
// Lỗi: Nếu lặp i từ 2 đến n, thì với mọi n sẽ luôn chia hết cho chính nó ở vòng lặp cuối (i == n),
// hàm sẽ luôn return 0 ngoại trừ khi n == 2. Đúng ra chỉ cần kiểm tra i <= sqrt(n),
// và loại trừ trường hợp n <= 1.
//
// Sửa:
int isPrime(int n) {
    if (n <= 1) return 0; // 0 và 1 không phải số nguyên tố
    for (int i = 2; i * i <= n; i++) { // Chỉ cần duyệt tới căn bậc hai của n
        if (n % i == 0) return 0; // Nếu chia hết thì không phải số nguyên tố
    }
    return 1; // Nếu không có ước nào thì là số nguyên tố
}

